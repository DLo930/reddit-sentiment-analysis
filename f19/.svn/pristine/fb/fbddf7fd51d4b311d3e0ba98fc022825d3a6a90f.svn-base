#use <conio>
#use "sol-gapbuf.c0"
#use "make-gapbuf.c0"

//EXPECT RETURN 0

int main()
{
  bool passed = true;
  gapbuf G = make_gapbuf(8, "012|567");

  //insert into full
  gapbuf_insert('x', G);
  gapbuf_insert('x', G);
  gapbuf_insert('x', G);

  if(!(G->limit == 8 &&
       G->gap_start == 5 &&
       G->gap_end == 5 &&
       G->buffer[0] == '0' &&
       G->buffer[1] == '1' &&
       G->buffer[2] == '2' &&
       G->buffer[3] == 'x' &&
       G->buffer[4] == 'x' &&
       G->buffer[5] == '5' &&
       G->buffer[6] == '6' &&
       G->buffer[7] == '7')){
    passed = false;
    // error("didn't handle inserting into a full buffer");
  }

  //report
  if(passed) return 0; else return 1;
}
