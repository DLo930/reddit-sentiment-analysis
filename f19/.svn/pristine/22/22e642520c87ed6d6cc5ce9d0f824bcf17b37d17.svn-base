#use <conio>
#use "sol-tbuf.c0"

//EXPECT RETURN 0

int main()
{
  bool passed = true;
  tbuf B = tbuf_new();

  //make sure it's a tbuf
  if(!(is_tbuf_(B) == true)) {
    passed = false;
    // error("wasn't tbuf");
  }

  //make sure it's empty
  if(!(tbuf_empty_(B) == true)) {
    passed = false;
    // error("wasn't tbuf");
  }

  //make sure it works
  for(int i = 0; i < 507; i++)
    insert_char_(B, 'y');
  for(int i = 0; i < 519; i++)
    delete_char_(B);
  for(int i = 0; i < 15; i++)
    insert_char_(B, 'a');
  for(int i = 0; i < 11; i++)
    backward_char_(B);
  for(int i = 0; i < 122; i++)
    insert_char_(B, 'b');
  for(int i = 0; i < 6; i++)
    forward_char_(B);
  for(int i = 0; i < 50; i++)
    insert_char_(B, 'c');
  for(int i = 0; i < 1000; i++)
    backward_char_(B);
  for(int i = 0; i < 1000; i++)
    forward_char_(B);
  for(int i = 0; i < 1000; i++)
    delete_char_(B);
  
  if(!(tbuf_empty_(B) == true)) {
    passed = false;
    // error("didn't work for some reason");
  }

  //report
  if(passed) return 0; else return 1;
}
