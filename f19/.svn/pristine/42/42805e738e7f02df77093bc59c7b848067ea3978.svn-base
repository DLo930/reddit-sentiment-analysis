#use <conio>


int main(){
  hdict_t D = hdict_new(5);
  assert(hdict_lookup(D, 100)==NULL);
  println("Inserting students");
  for(int i=0; i<1000; i++){
    entry s = alloc(struct student_record);
    s->student_id = i*100;
    s->grades = alloc_array(char, 20);
    s->auditor = i%2==0;
    hdict_insert(D,s);
    entry res =  hdict_lookup(D, i*100);
    assert(res==s);
  }
  println("Testing lookup of students that are not in dict");
  assert(hdict_lookup(D, 1000000)==NULL);

  println("Testing lookup of students that are in dict");
  for(int i=0; i<1000; i++){
    entry res =  hdict_lookup(D, i*100);
    assert(res->auditor==(i%2==0));
  }
  println("all tests passed");
  
  return 0;
}