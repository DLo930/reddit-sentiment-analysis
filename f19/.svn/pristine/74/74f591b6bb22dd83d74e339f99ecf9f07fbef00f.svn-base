//EXPECT ANNOTATION FAILURE
int main() {
  gapbuf G = alloc(struct gap_buffer);
  G->limit = 3; 
  G->buffer = alloc_array(char, 2);
  G->gap_start = 0;
  G->gap_end = 1;
  assert(is_gapbuf(G));
  return 0;
}