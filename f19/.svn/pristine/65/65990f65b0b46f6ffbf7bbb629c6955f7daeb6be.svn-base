//EXPECT RETURN 0
int main() {
  gapbuf G = alloc(struct gap_buffer);

  //Test all valid 16-length gap buffers
  G->limit = 1;
  G->buffer = alloc_array(char, 1);

  G->gap_start = 0;
  G->gap_end = 1;
  if(!is_gapbuf(G)) return 1;

  G->gap_start = 1;
  G->gap_end = 1;
  if(!is_gapbuf(G)) return 1;

  G->gap_start = 0;
  G->gap_end = 0;
  if(!is_gapbuf(G)) return 1;

  G->gap_start = 1;
  G->gap_end = 0;
  if(is_gapbuf(G)) return 1;

  return 0;
}
