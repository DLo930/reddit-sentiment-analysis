# Run the bonus manipulation task of student s=xyz
#
# Instructions:
# - create a directory containing the following from svn/.../prog/images/src
#   . Makefile-manipulate (rename to Makefile)
#   . images/
#   . pixel-int.c0
#   . manipulate-main.c0
#   . (some of the masks may be needed)
# - create the subdirectory xyz
# - download student xyz's submission and uncompress it in directory xyz
# - if the student provided their own image, rename it to xyz/input.png
# - otherwise, link images/g5.png to xyz/input.png
# - run make all s=xyz


CC0=cc0 -d -w -o manipulate

help:
	@echo "make [help]         -- print these instructions"
	@echo "make all     s=xyz  -- run and display the images of student xyz"
	@echo "make compile s=xyz  -- compile the work of student xyz"
	@echo "make run     s=xyz  -- run     the work of student xyz"
	@echo "make view    s=xyz  -- display the output image of student xyz"
	@echo "make src     s=xyz  -- display the input  image of student xyz"
	@echo "make clean          -- clean up executables"
	@echo ""

all: src view

compile:
	$(CC0) pixel-int.c0 $(s)/imageutil.c0 $(s)/rotate.c0 $(s)/mask.c0 $(s)/manipulate.c0 manipulate-main.c0

run: compile
	./manipulate -i $(s)/input.png -o $(s)/output.png

view: run
	display $(s)/output.png &

src:
	display $(s)/input.png &

clean:
	rm manipulate
