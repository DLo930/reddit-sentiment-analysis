#use <conio>
#use "sol-tbuf.c0"

//EXPECT RETURN 0

int main()
{
  bool passed = true;
  tbuf B = tbuf_new_();

  //split on right half
  for(int i = 0; i < 16; i++)
    insert_char_(B, 'x');
  for(int i = 0; i < 3; i ++)
    gapbuf_backward_(B->point->data);

  split_point(B);
  
  //should be a tbuf
  if(!(is_tbuf_(B) == true)) {
    passed = false;
    // error("right side split didn't make a tbuf");
  }

  //point not full
  if(!(gapbuf_full_(B->point->data) == false)) {
    passed = false;
    // error("right side split left point full");
  }

  //report
  if(passed) return 0; else return 1;
}
