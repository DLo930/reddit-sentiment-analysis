%\clearpage
\Question{Running C0 Programs}

\bgroup
\newcommand{\num}  % Change from time to time
%{15122}
%{15234}
%{42024}
%{230117}
%{170624}
%{220117}
%{22151}
%{21012019}
{27082019}
\newcommand{\function}{foo} % F19
%{bar} % Up to S19

Assume the file \texttt{\function.c0} contains a function \texttt{\function}
that takes an integer argument and returns an integer.  Additionally,
there is a \texttt{\function-test.c0} file that contains the following:

\begin{lstlisting}
int main() {
    return [*\function*]([*\num*]);
}
\end{lstlisting}

\begin{parts}


\part[0\half]\TAGS{compilation}
From the command line, show how to display the value returned by
\texttt{\function(\num)} using the \underline{C0 compiler}.
\begin{framed}
\renewcommand{\shellstyle}{\bfseries\color{\answerColor}}
\ifprintanswers
\begin{lstlisting}[language={[coin]C}, basicstyle=\basicstyle\color{\answerColor}]
  % cc0 -o [*\bf\function{}exe*] [*\bf\function.c0*] [*\bf\function-test.c0*]
  % ./[*\bf\function.exe*]
\end{lstlisting}
\else~\vspace{5cm}\fi
\end{framed}

\RUBRIC
Part (compiler)
TAGS: compilation

Gradescope rubric:
+0.25pt Compiled both bar.c0 and bar-test.c0
+0.25pt Run the executable
-0.2pt  Put bar.c0 and test.c0 in the wrong order.

Solution/commentary:
  Note that the function/file name changes semester after semester

  % cc0 -o barexe bar.c0 bar-test.c0
  % ./barexe

  OR

  % cc0 bar.c0 bar-test.c0
  % ./a.out

  OR

  % cc0 -x bar.c0 bar-test.c0

  - With or without -d is fine
  - It's fine not to write out the return value ("33" or "42" or whatever)
  - Other minor errors: -0.25 point adjustment (leave comment that
    starts with "minor error")
ENDRUBRIC


\part[0\half]\TAGS{interpreter}
From the command line, show how to display the value returned by
\texttt{\function(\num)} using the \underline{C0 interpreter}.
\begin{framed}
\renewcommand{\shellstyle}{\bfseries\color{\answerColor}}
\ifprintanswers
\begin{lstlisting}[language={[coin]C}, basicstyle=\basicstyle\color{\answerColor}]
  % coin [*\bf\function.c0*]
  --> [*\function*]([*\num*]);
\end{lstlisting}
\else~\vspace{5cm}\fi
\end{framed}

\RUBRIC
Part (interpreter)
TAGS: interpreter

Gradescope rubric:
* 0.25 pts Correct invocation of coin
* 0.25 pts Correct call to the function

Solution/commentary:
  % coin bar.c0   // Half point for putting bar.c0 on command line
  --> bar(15234)); // Half point for call to bar()

  OR

  % coin bar.c0 bar-test.c0 // Half point for both command line arguments
                            // Order MUST be correct!
  --> main();               // Half point for call to main() or bar()

  - With or without -d is fine
  - It's fine to not write out the result "33" or whatever
  - Other minor errors: -0.25 point adjustment (leave comment that
    starts with "minor error")
ENDRUBRIC

\end{parts}
\egroup