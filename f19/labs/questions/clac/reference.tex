\section*{Clac reference}

Most Clac tokens, when removed from the queue, only manipulate the
stack:

{\small
$$
\begin{array}{lclcll}
\mbox{\bf Token} & & \mbox{\bf Before} & & \mbox{\bf After} & \mbox{\bf Condition or Effect} \\ \hline
n & : & S & \longrightarrow & S, n & \mbox{for $-2^{31} \leq n < 2^{31}$ in decimal} \\ \hline
\mbox{\lstinline'+'} & : & S, x, y & \longrightarrow & S, x\,{+}\,y \\
\mbox{\lstinline'-'} & : & S, x, y & \longrightarrow & S, x\,{-}\,y \\
\mbox{\lstinline'*'} & : & S, x, y & \longrightarrow & S, x\,{*}\,y \\
\mbox{\lstinline'/'} & : & S, x, y & \longrightarrow & S, x\,{/}\,y &
\mbox{error, if div by 0 or overflow} \\
\mbox{\lstinline'\%'} & : & S, x, y & \longrightarrow & S, x\,{\%}\,y &
\mbox{error, if mod by 0 or overflow} \\ \hline
\mbox{\lstinline'<'} & : & S, x, y & \longrightarrow & S, 1 & \mbox{if $x < y$} \\
\mbox{\lstinline'<'} & : & S, x, y & \longrightarrow & S, 0 & \mbox{if $x \geq y$} \\ \hline
\mbox{\lstinline'drop'} & : & S, x & \longrightarrow & S \\
\mbox{\lstinline'swap'} & : & S, x, y & \longrightarrow & S, y, x \\
\mbox{\lstinline'rot'} & : & S, x, y, z & \longrightarrow & S, y, z, x \\
\mbox{\lstinline'pick'} & : & S, x_n, \ldots, x_1, n & \longrightarrow & S, x_n, \ldots, x_1, x_n &
\mbox{error, if $n <= 0$} \\ \hline
\mbox{\lstinline'print'} & : & S, x & \longrightarrow & S & \mbox{print $x$ followed by newline} \\
\mbox{\lstinline'quit'} & : & S & \longrightarrow & \_ & \mbox{exit Clac}
\end{array}
$$}

The \lstinline[language=]'if' and \lstinline'skip' operations, on the other hand,
also manipulate the token queue:


{\small
$$
\begin{array}{rclcrcl|l}
\multicolumn{3}{c}{\bf Before \qquad\qquad\qquad\quad}  & & \multicolumn{3}{c}{\bf  After}\quad \\
\mbox{\bf Stack} & & \mbox{\bf Queue} & & \mbox{\bf Stack} & & {\bf Queue} & \mbox{\bf Cond} \\ \hline
%n & : & S & \longrightarrow & S, n & \mbox{for $-2^{31} \leq n < 2^{31}$ in decimal} \\ \hline
%S, n & \mid\mid & \lstinline'skip', \mathit{tok}_1, \ldots, \mathit{tok}_n, Q & \longrightarrow & S & \mid\mid & Q & \mbox{$n \geq 0$}

S, n & \mid\mid & \lstinline[language=]'if', Q & \longrightarrow & S & \mid\mid & Q & \mbox{$n \neq 0$}
\\
S, n & \mid\mid & \lstinline[language=]'if', \mathit{tok}_1, \mathit{tok}_2, \mathit{tok}_3, Q & \longrightarrow & S & \mid\mid & Q & \mbox{$n = 0$}
\\
S,n & \mid\mid & \lstinline'skip', \mathit{tok}_1,\ldots,\mathit{tok}_n,Q & \longrightarrow & S & \mid\mid & Q & \mbox{$n \geq 0$}
\end{array}
$$}
