\documentclass{book}
\input{inc/preamble}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Document %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\include{inc/frontmatter}


\bgroup
\renewcommand{\documentclass}[2][]{}
\renewcommand{\usepackage}[2][]{}
\renewenvironment{document}{}{}

%% Diderot stuff
\newenvironment{preamble}{}{}
\newenvironment{gram}[1][]{}{}
\newenvironment{flex}[1][]{}{}

\newcommand{\opt}[1]{#1}

\newcounter{samplesolutions}
\newenvironment{solution}[1][]
{\floatsep=0pt%
 \suppressfloats%
 \ifnumcomp{\value{samplesolutions}}{=}{0}{%
    \begin{figure}[p]
      \section*{Sample Solutions}
    \end{figure}
    \stepcounter{samplesolutions}}{}

 \begin{figure}[p]%
 \noindent%
 \textbf{Solution}
}
{\end{figure}}

% %\ifall{
\part{Deliberate Programming}\label{part:contracts}
% %}{}
{\subimport{../01-contracts/}{main}}
{\subimport{../02-ints/}{main}}
{\subimport{../03-arrays/}{main}}
{\subimport{../04-linsearch/}{main}}
{\subimport{../05-bigo/}{main}}
{\subimport{../06-binsearch/}{main}}
{\subimport{../07-quicksort/}{main}}

% %\ifall{
\part{Data Structures}\label{part:ds}
% %}{}
{\subimport{../08-datastruct/}{main}}
{\subimport{../09-stackqueue/}{main}}
{\subimport{../10-linkedlist/}{main}}
{\subimport{../11-ubarrays/}{main}}
{\subimport{../12-hashing/}{main}}
{\subimport{../13-sets/}{main}}
{\subimport{../14-generic/}{main}}
{\subimport{../15-bst/}{main}}
{\subimport{../16-avl/}{main}}
{\subimport{../17-pq/}{main}}
{\subimport{../18-resinvs/}{main}}

% %\ifall{
\part{Transitioning to C}\label{part:C}%
% %}{}
{\subimport{../19-cstructure/}{main}}
{\subimport{../20-mem/}{main}}
{\subimport{../21-types/}{main}}
{\subimport{../22-c0vm/}{main}}
{\subimport{../22-tries/}{main}}
{\subimport{../23-graphs/}{main}}
{\subimport{../24-search/}{main}}
{\subimport{../25-spanning/}{main}}
{\subimport{../26-unionfind/}{main}}
\egroup


\subincludefrom{inc/}{backmatter}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
