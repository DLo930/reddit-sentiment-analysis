#use <conio>

int main () {

  //// FIX ME!!
  // A stack of strings
  stack_t S = stack_new();

  string s1 = "hello";        // Push a value
  push(S, s1);

  push(S, "world");           // Push another

  string s2 = pop(S);         // Pop it
  println(s2);

  println(pop(S));            // Pop the first one




  /*
  // A stack of ints
  stack_t I = stack_new();

  int* x = alloc(int);
  *x = 42;
  push(I, (void *)x);         // Push an int*

  int* y = alloc(int);
  *y = 15122;
  void* p = (void *)y;
  push(I, p);                 // and another one

  int* z = (int *)pop(I);     // pop the last int*
  printint(*z); println("");
  */

  // Void pointers in general
  int *n = alloc(int);
  *n = 42;                        // n is an int*
  void* pn = (void*)n;            // p secretly points to an int
  // ...


  void* p1 = (void*)alloc(int);
  void* p2 = (void*)alloc(string);
  void* p3 = (void*)alloc(int**);
  // ...


  // NULL is a pointer of any type, including void*
  void* q = NULL;
  void* r = (void*)(int*)(void*)(string*)q;

  return 0;
}
