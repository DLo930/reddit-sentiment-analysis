void test1(){
rope_t R = rope_new("derp");
assert (is_rope(R));
assert (rope_charat(R, 0) == 'd');
}

void test2(){
rope_t R = rope_new("happ");
rope_t S = rope_new("y birth");
rope_t Q = rope_new("day!");
assert (is_rope(Q));
assert (is_rope(R));
assert (is_rope(S));
rope_t Y = rope_join(R,S);
assert (is_rope(Y));
rope_t X = rope_join(Y,Q);
assert (rope_charat(X,0)=='h');
assert (rope_charat(X,14)=='!');
assert (is_rope(X));
assert (string_equal(rope_tostring(X),"happy birthday!"));
}


void test3(){
rope_t R = rope_new("happ");
rope_t S = rope_new("y birth");
rope_t Q = rope_new("day!");
rope_t Y = rope_join(R,S);
rope_t X = rope_join(Y,Q);
assert (rope_charat(X,0)=='h');
assert (rope_charat(X,14)=='!');
assert (is_rope(X));
assert (string_equal(rope_tostring(X),"happy birthday!"));
assert (string_equal(rope_tostring(rope_sub(X,0,14)),"happy birthday!"));
assert (is_rope(X));
}


int main(){
  test1();
  println("passed 1");
  test2();
  println("passed 2");
  test3();
  println("passed 3");
  println("passed tests");
	return 0;
}